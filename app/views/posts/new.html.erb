<div id="page-container">

  <div class="phase-banner">
    <p><strong class="phase-tag"> ALPHA </strong>
      <span> Enable services to know what and how they should provide evidence of testing in the compliance tool </span></p>
  </div>

  <div class="breadcrumbs">
    <ol role="breadcrumbs">
      <li><a href="/"> Home </a></li>
      <li><a href="/posts/new"> Evidence Upload </a></li>
    </ol>
  </div>

  <div>
    <h1> Evidence Upload </h1>
    <p> Please answer the required feilds below and confrim your evidence by clicking the upload button.
        Click here for <a href="#link"> instructions and examples! </a></p><br><br>
  </div>

  <% descriptions = ["Issues a successful match response with Level Of Assurance LEVEL_1. The user has been verified successfully.",
                     "Issues a successful match response with Level Of Assurance LEVEL_2. The user has been verified successfully.",
                     "Issues a No Match response. In this scenario a match was not found by the Local Matching Service.",
                     "Issues a response with NoAuthnContext status. This happens when the user cancels or fails to authenticate at an appropriate level of assurance.",
                     "Issues an Authentication Failed response. The user was not authenticated successfully.",
                     "Issues a response with an ERROR status and no assertion. The service should display an error page to the user.",
                     "Account Creation Response with Level of Assurance LEVEL_1. The response contains a hashed pid and attributes of the user that can be used to identify or create an account.",
                     "Account Creation Response with Level of Assurance LEVEL_2. The response contains a hashed pid and attributes of the user that can be used to identify or create an account.",
                     "Issues a response with an assertion signed with the hub's private key. Your service should return an error to the user because your service should only trust assertions signed by your matching service adapter."] %>
   <% responses = ["Basic Successful Match Response with LEVEL_1", "Basic Successful Match Response with LEVEL_2","Basic No Match Response",
                   "No Authentication Context Response", "Authentication Failed Response", "Requester Error Response",
                   "Account Creation Response with LEVEL_1", "Account Creation Response with LEVEL_2",
                   "Fraudulent match response with assertions signed by hub"] %>

<%= render 'form', post: @post %>

<div id="link">
    <h3> For examples and instructions for each reponse, expand the following links below; </h3>
  </div>

  <% counter = 0 %>
  <% responses.each do |response| %>
    <div>
      <details role="group">
        <summary role="button" aria-controls="details-content-0" aria-expanded="true">
          <span class="summary"> Example of <%= response %></span></summary>
        <div class="panel-border-narrow" aria-hidden="false">
          <div class="grid-row">
            <div class="column-one-half">
              <p><%= descriptions[counter] %></p>
              <div class="bottomPadding">
                <img src="<%= asset_path( "#{response}" ) %>"/>
              </div>
            </div>
          </div>
        </div>
      </details>
    </div><br>
    <% counter += 1 %>
  <% end %>

</div>
